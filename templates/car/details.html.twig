{% extends 'base.html.twig' %}

{% block title %} Caractéristiques {% endblock %}

{% block body %}
    <div>
        <div class="detailsContainer text-center  underlined my-3 py-3">
            <div class="carContainer">
                <h3 class="py-3 my-3" id="carName"> {{ car.carName }} </h3>
                {% for key,image in car.image %}
                    <img src="{{ asset('uploads/images/' ~ image.imageName )}}" class="card-img-top" alt="{{ image.imageName }}" style="max-height:600px; max-width: 500px; border-radius: 0.4rem">
                {% endfor %}
            </div>
            <div class="pt-3 mt-3 characteristic mb-3">
                <h6 class="py-3 my-3 underlined"> Les caractéristiques </h6>
                <p class="pb-3"> {{ car.characteristic |nl2br }} </p> 
            </div>
        </div>

        <div class="d-flex flex-column align-items-center">
            <h3 class="mt-3 text-center"> Une question ? N'hésitez pas à nous contacter !</h3>
            <div class="formContact d-flex justify-content-center my-3 py-3">
                {{ form_start(form) }}
                    <div class="form-group my-3">
                        {{ form_label(form.last_name, 'Nom : ', {'attr' : {'id': 'lastName'}})}}
                        <input name="{{ field_name(form.last_name) }}" type="text" class="form-control" id='contact_last_name'>
                        {{ form_errors(form.last_name) }}
                    </div>
                    <div class="form-group my-3">
                        {{ form_label(form.first_name, 'Prénom : ', {'attr' : {'id': 'firstName'}})}}
                        <input name="{{ field_name(form.first_name) }}" type="text" class="form-control" id='contact_first_name'>
                        {{ form_errors(form.first_name) }}
                    </div>
                    <div class="form-group my-3">
                        {{ form_label(form.phone_number, 'Numéro de téléphone : ')}}
                        <input name="{{ field_name(form.phone_number) }}" type="text" class="form-control" id='contact_phone_number'>
                        {{ form_errors(form.phone_number) }}
                    </div>
                    <div class="form-group my-3">
                        {{ form_label(form.email, 'Email :')}}
                        <input name="{{ field_name(form.email) }}" type="email" class="form-control" id='contact_email'>
                        {{ form_errors(form.email) }}
                    </div>

                    <div class="form-group my-3">
                        {{ form_label(form.subject, 'À propos de :')}} 
                        <input name="{{ field_name(form.subject) }}" type="text" class="form-control" id='contact_subject'>
                        {{ form_errors(form.subject) }}
                    </div>
                    <div class="form-group my-3">
                        {{ form_label(form.content, 'Votre demande : ')}}
                        <textarea class="form-control" name="{{ field_name(form.content) }}" id='contact_content'></textarea>
                        {{ form_errors(form.content) }}
                    </div>
                    <div class="d-flex justify-content-center">
                        <button class="btn btn-lg btn-outline-light rounded-4 border-0" type="submit">
                            Envoyer
                        </button>
                    </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>

{% include "menu/footer.html.twig" %} 

<script>
    const carName = document.querySelector('#carName').innerHTML;
    const subject = document.querySelector('#contact_subject').value = `Je vous contacte à propos de la` + carName;
</script>
{% endblock %}

